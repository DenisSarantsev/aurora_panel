(()=>{"use strict";let t=!1;setTimeout((()=>{if(t){let t=new Event("windowScroll");window.addEventListener("scroll",(function(e){document.dispatchEvent(t)}))}}),0),document.addEventListener("DOMContentLoaded",(()=>{const t=document.querySelector(".applications-filter__second-minus-icon"),i=document.querySelector(".applications-filter"),n=document.querySelector(".applications-filter__parametrs-container"),l=document.querySelector(".applications-filter__bottom-container");document.querySelector(".applications-filter__filter-title-container").addEventListener("click",(()=>{i.classList.contains("open-filter")?a(i,t,n,l):e(i,t,n,l)}))}));const e=(t,e,a,i,n)=>{t.classList.remove("open-filter"),t.classList.add("open-filter"),t.style.gap="0px",e.classList.toggle("rotate-icon"),a&&(a.classList.remove("auto-height"),a.classList.add("null-height")),i&&(i.classList.remove("auto-height"),i.classList.add("null-height")),n&&(n.classList.remove("auto-height"),n.classList.add("null-height"))},a=(t,e,a,i,n)=>{t.classList.add("open-filter"),t.classList.remove("open-filter"),t.style.gap="10px",e.classList.toggle("rotate-icon"),a&&(a.classList.add("auto-height"),a.classList.remove("null-height")),i&&(i.classList.add("auto-height"),i.classList.remove("null-height")),n&&(n.classList.add("auto-height"),n.classList.remove("null-height"))};async function i(){const t={method:"GET",headers:{accept:"application/json",password:"$2b$12$rOy4/Mc.D15d801IweWOtOQlfSLhzoYwJmxuQihKp7QT3PY66qtZm"}};try{const e=await fetch("https://fastapi-avrora-hr.fly.dev/path/admin/api/super-admin/vacancies/210325718",t);if(!e.ok)throw new Error(`Ошибка HTTP: ${e.status}`);return await e.json()}catch(t){throw console.error("Ошибка запроса:",t),t}}document.addEventListener("DOMContentLoaded",(()=>{const t=document.querySelectorAll(".template"),e=document.querySelectorAll(".template-switch-button"),a=document.querySelectorAll(".menu__menu-item");for(let t of e)t.addEventListener("click",(t=>{for(let t of a)t.classList.remove("menu-active-button");t.currentTarget.classList.add("menu-active-button"),i(t.currentTarget)}));const i=e=>{let a=e.getAttribute("template-button");for(let e of t)e.getAttribute("template-name")!==a?e.classList.add("hidden-template"):e.classList.remove("hidden-template")}}));const n=()=>{const t=document.querySelectorAll(".kinds-app__checkbox-input");let e=[];for(let a of t)a.checked&&e.push(a.value);return e},l=t=>{const[e,a,i]=t.split("."),n=new Date(`${i}-${a}-${e}`),l=new Date-n;return Math.floor(l/315576e5)},c=t=>{if(null===t)return"Новий"},s=(t,e)=>{let a=new Date(t.create_at);return new Date(e.create_at)-a},r=(t,e)=>{let a=l(t.birthday);return l(e.birthday)-a},o=(t,e)=>l(t.birthday)-l(e.birthday);const d=t=>{t().then((t=>{let e=t.vacancies;const a=document.querySelector(".search-app__select");if(a.innerHTML="",a.insertAdjacentHTML("beforeend",'\n\t\t\t\t<option value="Всі вакансії з обраних напрямів" class="search-app__option">Всі вакансії з обраних напрямів</option>\n\t\t\t'),0!==n().length)for(let t of e)for(let e of n())t.kind===e&&a.insertAdjacentHTML("beforeend",`\n\t\t\t\t\t\t\t\t<option value="${t.title}" class="search-app__option">${t.title}</option>\n\t\t\t\t\t\t\t`);else for(let t of e)a.insertAdjacentHTML("beforeend",`\n\t\t\t\t\t\t<option value="${t.title}" class="search-app__option">${t.title}</option>\n\t\t\t\t\t`)})).catch((t=>{console.error("Не удалось получить вакансии по запросу")}))},_=t=>{const e=document.querySelector(".footer__pagination");if(e.innerHTML="",t>1){e.insertAdjacentHTML("beforeend",'\n\t\t\t<div class="pagination__pages"></div>\n\t\t');let a=document.querySelector(".pagination__pages");for(let e=1;e<=t;e++)a.insertAdjacentHTML("beforeend",`\n\t\t\t\t<button page-number-button="${e}" class="pagination__page pagination-button">${e}</button>\n\t\t\t`)}},u=(t,e,a)=>{const i=document.querySelectorAll(".applications__row");for(let t of i)+t.getAttribute("page-number")==+e?(t.classList.remove("_hidden"),t.classList.add("display-grid")):(t.classList.remove("display-grid"),t.classList.add("_hidden"))},p=()=>{document.querySelector(".applications-filter__search-input").value.length>0?document.querySelector(".search__input-eyes").classList.remove("_hidden"):document.querySelector(".search__input-eyes").classList.add("_hidden")},m=()=>{(async function(){const t={method:"GET",headers:{accept:"application/json",password:"$2b$12$rOy4/Mc.D15d801IweWOtOQlfSLhzoYwJmxuQihKp7QT3PY66qtZm"}};try{const e=await fetch("https://fastapi-avrora-hr.fly.dev/path/admin/api/super-admin/orders/210325718",t);if(!e.ok)throw new Error(`Ошибка HTTP: ${e.status}`);return(await e.json()).orders}catch(t){throw console.error("Ошибка запроса:",t),t}})().then((t=>[{_id:1,telegram_id:620527199,kind:"офіс",title:"Обліковець з реєстрації бухгалтерських даних",name:"Sergii",feedback_phone:"380675478881",city:"Odesa",birthday:"15.05.1982",file_name:null,status:null,is_active:!0,create_at:"2024-02-06 00:40:38",feedback:!1},{_id:2,telegram_id:620527181,kind:"офіс",title:"Менеджер/ка з комунікацій у відділ корпоративної соціальної відповідальності (КСВ)",name:"Денис",feedback_phone:"380675478882",city:"Київ",birthday:"15.05.1986",file_name:"name",status:null,is_active:!0,create_at:"2024-01-16 01:40:38",feedback:!1},{_id:3,telegram_id:620527112,kind:"склад",title:"Товарознавець з якості м.Полтава",name:"Іван",feedback_phone:"380675478883",city:"Житомир",birthday:"15.05.1995",file_name:null,status:null,is_active:!0,create_at:"2024-02-15 15:30:38",feedback:!1},{_id:4,telegram_id:620527113,kind:"склад",title:"Товарознавець з якості м.Полтава",name:"Олександр",feedback_phone:"380675478884",city:"Миколаїв",birthday:"15.05.1999",file_name:null,status:null,is_active:!0,create_at:"2024-02-06 11:22:32",feedback:!1},{_id:5,telegram_id:620527114,kind:"офіс",title:"Прибиральниця в офіс",name:"Петро",feedback_phone:"380675478885",city:"Севастополь",birthday:"15.05.1979",file_name:"name",status:null,is_active:!0,create_at:"2024-03-26 00:33:33",feedback:!1},{_id:6,telegram_id:620527115,kind:"офіс",title:"Аналітик",name:"Андрій",feedback_phone:"380675478886",city:"Львів",birthday:"15.05.1989",file_name:null,status:null,is_active:!0,create_at:"2024-01-27 12:46:26",feedback:!1},{_id:7,telegram_id:620527116,kind:"офіс",title:"Бекенд розробник",name:"Гліб",feedback_phone:"380675478887",city:"Херсон",birthday:"15.05.1980",file_name:null,status:null,is_active:!0,create_at:"2024-03-11 05:34:11",feedback:!1},{_id:8,telegram_id:620527121,kind:"склад",title:"Комірник",name:"Василь",feedback_phone:"380675478888",city:"Коростень",birthday:"15.05.1998",file_name:null,status:null,is_active:!0,create_at:"2024-02-18 04:15:45",feedback:!1},{_id:9,telegram_id:620527122,kind:"магазин",title:"Водій",name:"Іван",feedback_phone:"380675478889",city:"Рівне",birthday:"15.05.2001",file_name:null,status:null,is_active:!0,create_at:"2024-01-11 01:28:34",feedback:!1},{_id:10,telegram_id:620527123,kind:"магазин",title:"Кур'єр",name:"Олександр",feedback_phone:"380675478810",city:"Запоріжжя",birthday:"15.05.2004",file_name:null,status:null,is_active:!0,create_at:"2024-01-11 02:35:55",feedback:!1},{_id:11,telegram_id:620527124,kind:"магазин",title:"Продавець",name:"Сергій",feedback_phone:"380675478834",city:"Запорізька область, село Коцюбинське",birthday:"15.05.2000",file_name:null,status:null,is_active:!0,create_at:"2024-01-02 18:45:32",feedback:!1},{_id:11,telegram_id:620527124,kind:"магазин",title:"Продавець",name:"Сергій",feedback_phone:"380675478834",city:"Запорізька область, село Коцюбинське",birthday:"15.05.2000",file_name:null,status:null,is_active:!0,create_at:"2024-01-02 18:45:32",feedback:!1},{_id:12,telegram_id:620527124,kind:"магазин",title:"Продавець",name:"Сергій",feedback_phone:"380675478834",city:"Запорізька область, село Коцюбинське",birthday:"15.05.2000",file_name:null,status:null,is_active:!0,create_at:"2024-01-02 18:45:32",feedback:!1},{_id:11,telegram_id:620527124,kind:"магазин",title:"Продавець",name:"Сергій",feedback_phone:"380675478834",city:"Запорізька область, село Коцюбинське",birthday:"15.05.2000",file_name:null,status:null,is_active:!0,create_at:"2024-01-02 18:45:32",feedback:!1},{_id:13,telegram_id:620527124,kind:"магазин",title:"Продавець",name:"Сергій",feedback_phone:"380675478834",city:"Запорізька область, село Коцюбинське",birthday:"15.05.2000",file_name:null,status:null,is_active:!0,create_at:"2024-01-02 18:45:32",feedback:!1},{_id:14,telegram_id:620527124,kind:"магазин",title:"Продавець",name:"Сергій",feedback_phone:"380675478834",city:"Запорізька область, село Коцюбинське",birthday:"15.05.2000",file_name:null,status:null,is_active:!0,create_at:"2024-01-02 18:45:32",feedback:!1},{_id:15,telegram_id:620527124,kind:"магазин",title:"Продавець",name:"Сергій",feedback_phone:"380675478834",city:"Запорізька область, село Коцюбинське",birthday:"15.05.2000",file_name:null,status:null,is_active:!0,create_at:"2024-01-02 18:45:32",feedback:!1},{_id:16,telegram_id:620527124,kind:"магазин",title:"Продавець",name:"Сергій",feedback_phone:"380675478834",city:"Запорізька область, село Коцюбинське",birthday:"15.05.2000",file_name:null,status:null,is_active:!0,create_at:"2024-01-02 18:45:32",feedback:!1},{_id:17,telegram_id:620527124,kind:"магазин",title:"Продавець",name:"Сергій",feedback_phone:"380675478834",city:"Запорізька область, село Коцюбинське",birthday:"15.05.2000",file_name:null,status:null,is_active:!0,create_at:"2024-01-02 18:45:32",feedback:!1},{_id:18,telegram_id:620527124,kind:"магазин",title:"Продавець",name:"Сергій",feedback_phone:"380675478834",city:"Запорізька область, село Коцюбинське",birthday:"15.05.2000",file_name:null,status:null,is_active:!0,create_at:"2024-01-02 18:45:32",feedback:!1},{_id:19,telegram_id:620527124,kind:"магазин",title:"Продавець",name:"Сергій",feedback_phone:"380675478834",city:"Запорізька область, село Коцюбинське",birthday:"15.05.2000",file_name:null,status:null,is_active:!0,create_at:"2024-01-02 18:45:32",feedback:!1},{_id:20,telegram_id:620527124,kind:"магазин",title:"Продавець",name:"Сергій",feedback_phone:"380675478834",city:"Запорізька область, село Коцюбинське",birthday:"15.05.2000",file_name:null,status:null,is_active:!0,create_at:"2024-01-02 18:45:32",feedback:!1},{_id:21,telegram_id:620527124,kind:"магазин",title:"Продавець",name:"Сергій",feedback_phone:"380675478834",city:"Запорізька область, село Коцюбинське",birthday:"15.05.2000",file_name:null,status:null,is_active:!0,create_at:"2024-01-02 18:45:32",feedback:!1},{_id:22,telegram_id:620527124,kind:"магазин",title:"Продавець",name:"Сергій",feedback_phone:"380675478834",city:"Запорізька область, село Коцюбинське",birthday:"15.05.2000",file_name:null,status:null,is_active:!0,create_at:"2024-01-02 18:45:32",feedback:!1},{_id:23,telegram_id:620527124,kind:"магазин",title:"Продавець",name:"Сергій",feedback_phone:"380675478834",city:"Запорізька область, село Коцюбинське",birthday:"15.05.2000",file_name:null,status:null,is_active:!0,create_at:"2024-01-02 18:45:32",feedback:!1},{_id:24,telegram_id:620527124,kind:"магазин",title:"Продавець",name:"Сергій",feedback_phone:"380675478834",city:"Запорізька область, село Коцюбинське",birthday:"15.05.2000",file_name:null,status:null,is_active:!0,create_at:"2024-01-02 18:45:32",feedback:!1},{_id:25,telegram_id:620527124,kind:"магазин",title:"Продавець",name:"Сергій",feedback_phone:"380675478834",city:"Запорізька область, село Коцюбинське",birthday:"15.05.2000",file_name:null,status:null,is_active:!0,create_at:"2024-01-02 18:45:32",feedback:!1},{_id:26,telegram_id:620527124,kind:"магазин",title:"Продавець",name:"Сергій",feedback_phone:"380675478834",city:"Київська область, с. Бобриця, вул. Оранжерейна 8, буд. 15",birthday:"15.05.2000",file_name:null,status:null,is_active:!0,create_at:"2024-01-02 18:45:32",feedback:!1}])).then((t=>(t=>{let e=t;if(0!==n().length){e=[];for(let a of t)for(let t of n())a.kind===t&&e.push(a)}return e})(t))).then((t=>(t=>{const e=document.querySelector(".search-app__select");var a=e.options[e.selectedIndex];let i;a&&(i=a.textContent);let n=[];if("Всі вакансії з обраних напрямів"===i||void 0===i)n=t;else for(let e of t)e.title===i&&n.push(e);return n})(t))).then((t=>(t=>{const e=document.querySelector(".applications-filter__search-input").value;let a=[];if(0===e.length)a=t;else for(let i of t){let t=e;-1!==`Ім'я: ${i.name}, Вакансія: ${i.title}, Місто: ${i.city}, Телефон: ${i.feedback_phone}`.toLowerCase().indexOf(t.toLowerCase())&&a.push(i)}return a})(t))).then((t=>(t=>{const e=document.querySelector(".applications-filter__sort-select"),a=e.options[e.selectedIndex];let i=t;return"new"===a.value?i=i.sort(s):"old"===a.value?i=i.sort(r):"young"===a.value&&(i=i.sort(o)),i})(t))).then((t=>(t=>{let e=Math.floor(t.length/20)+1;return _(e),{orders:t,ordersOnPage:20}})(t))).then((t=>((t,e)=>{const a=document.querySelector(".applications__table-result-container");a.innerHTML="",a.insertAdjacentHTML("beforeend",'\n\t\t<ul class="applications__table-title">\n\t\t\t<li class="applications__table-title-item">Створення</li>\n\t\t\t<li class="applications__table-title-item">П.І.Б.</li>\n\t\t\t<li class="applications__table-title-item">Вік</li>\n\t\t\t<li class="applications__table-title-item">Місто</li>\n\t\t\t<li class="applications__table-title-item">Контакти</li>\n\t\t\t<li class="applications__table-title-item">Напрямок</li>\n\t\t\t<li class="applications__table-title-item">Вакансія</li>\n\t\t\t<li class="applications__table-title-item">Статус</li>\n\t\t\t<li class="applications__table-title-item">📎</li>\n\t\t\t<li class="applications__table-title-item">🔗</li>\n\t\t</ul>\n\t\t');let i=0,n=1;for(let r of t)i<e?(a.insertAdjacentHTML("beforeend",`\n\t\t\t\t\t<ul page-number="${n}" class="applications__row">\n\t\t\t\t\t\t<li class="applications__item">${r.create_at}</li>\n\t\t\t\t\t\t<li class="applications__item">${r.name}</li>\n\t\t\t\t\t\t<li class="applications__item">${l(r.birthday)}</li>\n\t\t\t\t\t\t<li class="applications__item">${r.city}</li>\n\t\t\t\t\t\t<li class="applications__item">${r.feedback_phone}</li>\n\t\t\t\t\t\t<li class="applications__item">${r.kind}</li>\n\t\t\t\t\t\t<li class="applications__item">${r.title}</li>\n\t\t\t\t\t\t<li class="applications__item">${c(r.status)}</li>\n\t\t\t\t\t\t<li class="applications__item">${s=r.file_name,null===s?"":"📎"}</li>\n\t\t\t\t\t\t<li class="applications__item">🔗</li>\n\t\t\t\t\t</ul>\n\t\t\t\t`),i++):i===e&&(n++,i=0);var s;return{orders:t,ordersOnPage:e}})(t.orders,t.ordersOnPage))).then((t=>((t,e)=>{const a=document.querySelectorAll(".pagination-button");let i=1;for(let n of a)n.addEventListener("click",(a=>{i=a.target.getAttribute("page-number-button"),u(t,i,e)}));return{orders:t,currentPage:i,ordersOnPage:e}})(t.orders,t.ordersOnPage))).then((t=>{const e=t.orders,a=t.ordersOnPage,i=t.currentPage;u(e,i,a)})).catch((t=>{console.error("Ошибка:",t)}))};document.addEventListener("DOMContentLoaded",(()=>{(async function(t){return new Promise(((e,a)=>{let i;t().then((t=>{let a=t.vacancies,n=[];for(let t of a)-1===n.indexOf(t.kind)&&n.push(t.kind);const l=document.querySelector(".kinds-app__checkboxes-container");for(let t of n)l.insertAdjacentHTML("beforeend",`\n\t\t\t\t\t\t<div class="kinds-app__checkbox-container">\n\t\t\t\t\t\t\t<input id="${t}" type="checkbox" value="${t}" class="kinds-app__checkbox-input">\n\t\t\t\t\t\t\t<label for="${t}" class="kinds-app__checkbox-label">${t.charAt(0).toUpperCase()+t.slice(1)}</label>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t`);i=document.querySelectorAll(".kinds-app__checkbox-input"),e(i)})).catch((t=>{console.error("Произошла ошибка:",t),a(t)}))}))})(i).then((t=>{for(let e of t)e.addEventListener("change",(()=>{d(i)}))})).then(d(i)).then(m());const t=document.querySelector(".applications-filter__second-minus-icon"),a=document.querySelector(".applications-filter"),n=document.querySelector(".applications-filter__parametrs-container"),l=document.querySelector(".applications-filter__bottom-container");document.querySelector(".applications-filter__result-button").addEventListener("click",(()=>{m(),p(),e(a,t,n,l)})),document.querySelector(".applications-filter__search-input").addEventListener("keyup",(t=>{m(),p()})),document.querySelector(".applications-filter__sort").addEventListener("change",(()=>{m(),p()})),document.querySelector(".applications-filter__reset-button").addEventListener("click",(()=>{(()=>{document.querySelector(".applications-filter__sort-select").selectedIndex=0;const t=document.querySelector(".applications-filter__search-input");t.value="",t.textContent="",p();const e=document.querySelectorAll(".kinds-app__checkbox-container");for(let t of e)t.firstElementChild.checked=!1;document.querySelector(".search-app__select").selectedIndex=0})(),m()}))})),window.FLS=!0,function(t){let e=new Image;e.onload=e.onerror=function(){t(2==e.height)},e.src="data:image/webp;base64,UklGRjoAAABXRUJQVlA4IC4AAACyAgCdASoCAAIALmk0mk0iIiIiIgBoSygABc6WWgAA/veff/0PP8bA//LwYAAA"}((function(t){let e=!0===t?"webp":"no-webp";document.documentElement.classList.add(e)}))})();